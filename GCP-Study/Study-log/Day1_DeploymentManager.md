### [Source of this study material : GCP Associate Cloud Engineer by Ranga Karanam](https://www.udemy.com/course/google-cloud-certification-associate-cloud-engineer/)

## What is Google Cloud Deployment Manager?

Let's consider an example:

- I would want to create a new VPC and a subnet.
- I want to provision a load balancer, instance groups with 5 compute engine instances, and a cloud SQL database in the subnet.
- I would want to set up the right firewall.
- AND I want to create 4 environments: dev, QA, stage, and production.
- Deployment Manager can help you do all these with a simple script.

So, if you want to **automate** the provisioning of your infrastructure, you can make use of Deployment Manager.

## The advantages of Deployment Manager

- Automate deployment and modification of Google Cloud resources in a controlled, predictable way.

- Avoid configuration drift.

- Avoid mistkaes with manual configuration.

- Think of it as a version control for your environments.

- **Always modify the resources created by Deployment Manager using Deployment Manager.**

## Understanding Deployment Manager

- All cocnfiguration is defined in a simple text file -YAML
  - I want a VPC, a subnet, a database, etc.

- Deployment Manager understands dependencies.
  - Creates VPCs first, then subnets, and then the database.

- Deployment Manager automatically rolls back on errors.

- Version control your configuration file and make changes to it over time.

---

### Example of Cloud Deployment Manager script


- type : compute.v1.instance
  name : my-first-vm
  properties :
    zone : us-central1-a
    machineType : <<MACHINE_TYPE>>
    disks:
      - deviceName : boot
        type : PERSISTENT
        boot : true
        autoDelete : true
        initializeParams :
          sourceIamage : <<SOURCE_IMAGE>>
    networkInterfaces :
      - network : <<NETWORK>>
      # Give instance a public IP address
      accessConfigs : 
      - name : External NAT
        type : ONE_TO_ONE_NAT



---


- Configuration file: YAML file with resource definitions for a single deployment.

- When I execute a configuration file, a set of resources are created by Deployment Manager.
A collection of resources that are deployed is a deployment.

- When you perform a deployment, Google Cloud Deployment Manager will create a manifests file.

- A manifests file is a read-only object containing the deployment configuration.
It includes any templates you made use of inside your configuration file.

- This is automatically generated by Deployment Manager and it includes fully extended resource list.



